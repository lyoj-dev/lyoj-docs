# LYOJ API 文档

本站所有 API 请求结果均被包裹在 `<pre style='word-wrap: break-word;white-space: pre-wrap;'></pre>` 标签里面，使用脚本处理时请使用正则表达式将正文两边的 tag 去掉。

本站所有 API 请求网址前均省略了 `http://172.25.50.253`，使用脚本请求时要记得在网址前加上刚刚那一串地址。

例如: 请求 pid=22 的题目信息，使用指令 `curl http://172.25.50.253/api/problem/info.php?pid=22` 即可获取到 pid=22 的题目信息的 JSON 数据格式，用正则表达式提取一下正文内容就可以使用 JSON 解析了。

所有 API 通用返回格式: 

|   字段    |  类型  |     内容     |        备注        |
| :-------: | :----: | :----------: | :----------------: |
|  `code`   |  num   |   返回状态   |    `0` 表示成功    |
| `message` | string |   错误信息   | 请求成功时该项为空 |
|  `data`   |  obj   | 请求数据主体 | 请求失败时无此字段 |
|   `ttl`   |  num   |      1       |         -          |

下面所有 API 均只介绍 `data` 主体内的内容。